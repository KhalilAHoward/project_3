{% extends 'base.html' %}
{% load static %}

{% block extrahead %}
<link rel='stylesheet' type='text/css' href="{% static 'css/forms.css' %}">
{% endblock extrahead %}
{% block content %}

<!-- Leaving the action empty makes the form post to the same url used to display it -->
<form action="" method="post">
  <fieldset>
    <legend>
      {% if object %}
      Edit {{object.company_name}}
      {% else %}
      New Job
      {% endif %}
    </legend>
    <!-- Django requires the following for security purposes -->
    {% csrf_token %}
    <table>
      <!-- Render the inputs inside of <tr>s & <td>s -->
      {{ form.as_table }}
    </table>
    <input type="submit" value="Submit!" class="btn">
  </fieldset>
</form>

<script>
  // date input
  const dateEl = document.querySelector('#id_date');
  M.Datepicker.init(dateEl, {
    format: 'yyyy-mm-dd',
    defaultDate: new Date(),
    setDefaultDate: true,
    autoClose: true
  })

  const selectEl = document.getElementById('id_date')
  M.FormSelect.init(selectEl)

</script>
{% endblock %}